if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PolarisHashtagLogger",["PolarisConfig","PolarisDeviceOrMachineId","PolarisLogger","PolarisPigeonLogger","PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.clickPoint,c=a.containerModule,e=a.entityId,f=a.eventName,g=a.followStatus;a=a.position;a={position:a,click_point:b,containermodule:c,device_model:d("PolarisUA").getBrowserString(),device_os:"Web",deviceid:d("PolarisDeviceOrMachineId").getDeviceOrMachineId(),entity_id:e,entity_type:"hashtag",follow_status:g,hashtag_id:e,primary_locale:d("PolarisConfig").getLocale()};d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent(f,d("PolarisLogger").getExtra(a),{module:c}))}g.logHashtagAction=a}),98);
__d("PolarisTagActions",["PolarisHashtagLogger","PolarisIGWebStorage","PolarisSharedAPI","PolarisTagActionTypes","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return{type:d("PolarisTagActionTypes").CONTENT_ADVISORY_ACKNOWLEDGED,tagName:a,userId:b}}function b(a){return function(b,e){var f=c("nullthrows")(a.hashtag);return b({type:d("PolarisTagActionTypes").TAG_PAGE_LOADED,tagData:f,contentAdvisoryIsAcknowledged:d("PolarisIGWebStorage").isContentAdvisoryAcknowledged(c("nullthrows")(f.name),(b=e())==null?void 0:(f=b.users)==null?void 0:f.viewerId)})}}function e(a){return function(b,e){return b({type:d("PolarisTagActionTypes").TAG_PAGE_LOADED_V2,tagData:a,contentAdvisoryIsAcknowledged:d("PolarisIGWebStorage").isContentAdvisoryAcknowledged(c("nullthrows")(a.name),(b=e())==null?void 0:(e=b.users)==null?void 0:e.viewerId)})}}function f(a){return function(b,c){return b({type:d("PolarisTagActionTypes").TAG_PAGE_UNLOADED,tagName:a})}}function h(a,b,c,e){return{type:d("PolarisTagActionTypes").TAG_POST_LOAD_TARGET_SET,tagName:a,direction:b,postId:c,count:e}}function i(a,b){return function(c,e){d("PolarisHashtagLogger").logHashtagAction(babelHelpers["extends"]({},b,{eventName:"follow_button_tapped",followStatus:"following"}));c({type:d("PolarisTagActionTypes").FOLLOW_HASHTAG,tagName:a});return d("PolarisSharedAPI").followHashtag(a).then(function(b){c({type:d("PolarisTagActionTypes").FOLLOW_HASHTAG_SUCCEEDED,tagName:a})},function(e){d("PolarisHashtagLogger").logHashtagAction(babelHelpers["extends"]({},b,{eventName:"follow_button_tap_failure",followStatus:"following"})),c({type:d("PolarisTagActionTypes").FOLLOW_HASHTAG_FAILED,tagName:a})})}}function j(a,b){return function(c,e){d("PolarisHashtagLogger").logHashtagAction(babelHelpers["extends"]({},b,{eventName:"follow_button_tapped",followStatus:"not_following"}));c({type:d("PolarisTagActionTypes").UNFOLLOW_HASHTAG,tagName:a});return d("PolarisSharedAPI").unfollowHashtag(a).then(function(b){c({type:d("PolarisTagActionTypes").UNFOLLOW_HASHTAG_SUCCEEDED,tagName:a})},function(e){d("PolarisHashtagLogger").logHashtagAction(babelHelpers["extends"]({},b,{eventName:"follow_button_tap_failure",followStatus:"not_following"})),c({type:d("PolarisTagActionTypes").UNFOLLOW_HASHTAG_FAILED,tagName:a})})}}g.acknowledgeContentAdvisory=a;g.loadTagPage=b;g.loadTagPageV2=e;g.unloadTagPage=f;g.setTagPostLoadTarget=h;g.followHashtag=i;g.unfollowHashtag=j}),98);
__d("PolarisTagSelectors",["PolarisConfig","PolarisPaginationUtils","PolarisuserSelectors","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){return c("nullthrows")(h(a)(b)).allowFollowing}}function h(a){return function(b){return a.tags.get(b)}}function b(a){return function(b){b=c("nullthrows")(a.tagMedia.byTagName.get(b));return d("PolarisPaginationUtils").hasNextPage(b.pagination)!=null&&b.nextPage!=null}}function e(a){var b=d("PolarisuserSelectors").getViewer(a);return function(e){e=c("nullthrows")(h(a)(e));var f=e.advisory;e=e.allowFollowing;var g=d("PolarisConfig").passesServerChecks(d("PolarisConfig").SERVER_CHECK_KEYS.HASHTAG_FOLLOW_ENABLE);return g&&(e||!b&&!f)}}g.getAllowFollowing=a;g.getTag=h;g.getShouldUseNewPaginationFromAPI=b;g.getShowFollowButton=e}),98);
__d("PolarisTagFollowButton.react",["IGRouter","PolarisGenericStrings","PolarisIGCoreButton","PolarisLinkBuilder","PolarisTagActions","PolarisuserSelectors","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$2=function(a){a=c.props;var b=a.id,d=a.isFollowing,e=a.isLoading,f=a.loggingClickPoint,g=a.loggingContainerModule,h=a.tagName;a=a.viewerLoggedIn;if(!a){c.props.history.push(c.$1());return}if(e)return;a={containerModule:g,clickPoint:f,entityId:b};!d?c.props.onFollowHashtag(h,a):c.props.onUnfollowHashtag(h,a)};c.state={initialPath:b.history.location.pathname};return c}var e=b.prototype;e.$1=function(){return d("PolarisLinkBuilder").buildLoginLink(this.state.initialPath,{source:"followHashtag"})};e.render=function(){var a=this.props,b=a.isFollowing,e=a.isLoading;a=a.viewerLoggedIn;return h.jsx(c("PolarisIGCoreButton"),{color:b?"ig-secondary-button":"ig-primary-button",disabled:e,fullWidth:!0,href:a?void 0:this.$1(),loading:e,onClick:a?this.$2:void 0,children:b&&a?d("PolarisGenericStrings").FOLLOWING_TEXT:d("PolarisGenericStrings").FOLLOW_TEXT})};return b}(h.Component);function a(a,b){var c=d("PolarisuserSelectors").getViewer(a);c=c&&c.id;c=!!c;a=a.tags.get(b.tagName);return{id:a==null?void 0:a.id,isFollowing:a==null?void 0:a.isFollowing,isLoading:a==null?void 0:a.isLoading,viewerLoggedIn:c}}function b(a){return{onFollowHashtag:function(b,c){return a(d("PolarisTagActions").followHashtag(b,c))},onUnfollowHashtag:function(b,c){return a(d("PolarisTagActions").unfollowHashtag(b,c))}}}f=d("IGRouter").withIGRouter(d("react-redux-wwwig").connect(a,b)(e));g["default"]=f}),98);